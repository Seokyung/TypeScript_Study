## [2-6] any와 unknown 타입

### any 타입

- 특정 변수의 타입을 모를 때 사용하는 타입
- 타입스크립트에서만 제공되는 특별한 타입으로, 타입 검사를 받지 않는 특수한 치트키 타입

```typescript
let anyVar = 10;
anyVar = "hello"; // [Error] 'string' 형식은 'number' 형식에 할당할 수 없습니다.
```

- 타입스크립트에서는 변수의 타입이 변수 초기화 값을 기준으로 추론하기 때문에, 초기화 값의 타입과 다른 타입의 값을 할당하면 오류가 발생함

```typescript
let anyVar: any = 10;
anyVar = "hello";

anyVar = true;
anyVar = {};
anyVar = () => {};

anyVar.toUpperCase();
anyVar.toFixed();
```

- any 타입은 어떠한 타입 검사도 받지 않기 때문에 아무 타입의 값이나 범용적으로 담아 사용할 수 있음
- 다양한 타입의 메서드도 마음대로 호출해서 사용해도 문제가 되지 않음

```typescript
let anyVar: any = 10;
anyVar = "hello";

let num: number = 100;
num = anyVar; // 타입 오류 X
```

- any 타입의 값은 어떤 타입으로 정의된 변수던 문제 없이 다 할당할 수 있음

---

### any 타입은 최대한 사용하지 않기

```typescript
let anyVar: any = 10;
anyVar = "hello";

anyVar = true;
anyVar = {};

anyVar.toUpperCase(); // [런타임 오류]
anyVar.toFixed();
```

- 위 코드를 컴파일하면 런타임 오류가 발생함
- any 타입은 타입 검사를 받지 않는 타입이므로 모든 타입스크립트의 문법과 규칙으로부터 자유롭지만, 그만큼 위험한 코드가 생산될 수 있음
- **any 타입을 사용하면 타입 검사가 제대로 이루어지지 않아 위험한 코드가 생산되고 런타임에 몰랐던 오류가 발생할 수 있음 (타입스크립트를 사용하는 의미가 사라짐)**
- 따라서 any 타입은 최대한 사용하지 않는 것이 좋음

---

### unknown 타입

- unknown 타입도 특정 변수의 타입을 모를 때 사용하는 타입

```typescript
let unknownVar: unknown;

unknownVar = "";
unknownVar = 10;
unknownVar = () => {};

let num: number;
num = unknownVar; // [Error] 'unknown' 형식은 'number' 형식에 할당할 수 없습니다.
```

- unknown 타입의 변수는 어떤 타입의 값이든 다 저장할 수 있음
- 그러나 어떤 타입의 변수에도 unknown 타입의 값을 저장할 수는 없음

```typescript
// 어떤 연산에도 참여할 수 없음
unknownVar * 2; // [Error] 'unknownVar'은(는) 'unknown' 형식입니다.

// 타입의 메소드도 사용 불가함
unknownVar.toUpperCase(); // [Error] 'unknownVar'은(는) 'unknown' 형식입니다.
```

- unknown 타입의 값은 어떤 연산에도 참여할 수 없으며, 어떤 메서드도 사용할 수 없음

```typescript
// 타입 정제
if (typeof unknownVar === "number") {
  num = unknownVar;
}
```

- unknown 타입의 변수는 오직 값을 저장하는 행위밖에 할 수 없음
- 만약 unknown 타입의 값을 특정 타입의 값처럼 취급하고 연산을 수행하게 하고 싶다면 조건문을 이용해 이 값이 해당 타입의 값임을 보장해줘야 함
- 타입스크립트에서는 조건문을 이용해 특정 값이 특정 타입임을 보장할 수 있게 되면 해당 값의 타입이 자동으로 바뀜 (타입 정제, 타입 좁히기)
- **따라서 특정 변수가 당장 어떤 값을 받게 될 지 모른다면 any 타입으로 정의하는 것 보단 unknown 타입을 이용하는게 훨씬 안전함**
